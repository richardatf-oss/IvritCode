<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>IvritCode · A Sacred Machine Language</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Main stylesheet -->
    <link rel="stylesheet" href="./styles.css" />

    <style>
      /* Light structural styles in case styles.css is empty */
      body {
        margin: 0;
        padding: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        background: radial-gradient(circle at top, #1a2238 0, #050509 55%);
        color: #f5f5f5;
      }

      .page {
        max-width: 960px;
        margin: 0 auto;
        padding: 1.5rem;
      }

      header {
        margin-bottom: 1.5rem;
        border-bottom: 1px solid rgba(255, 255, 255, 0.15);
        padding-bottom: 1rem;
      }

      h1 {
        margin: 0 0 0.25rem;
        font-size: 1.9rem;
      }

      .subtitle {
        margin: 0;
        font-size: 0.95rem;
        opacity: 0.8;
      }

      main {
        display: grid;
        gap: 1.5rem;
      }

      .card {
        background: rgba(10, 10, 20, 0.9);
        border-radius: 0.75rem;
        border: 1px solid rgba(255, 255, 255, 0.12);
        padding: 1rem 1.25rem;
        box-shadow: 0 14px 30px rgba(0, 0, 0, 0.45);
      }

      .card h2 {
        margin-top: 0;
        font-size: 1.1rem;
      }

      #app pre {
        margin: 0;
        font-family: "JetBrains Mono", "Fira Code", Menlo, Monaco, Consolas,
          "Courier New", monospace;
        font-size: 0.85rem;
        white-space: pre-wrap;
        word-break: break-word;
      }

      .footer {
        margin-top: 1.5rem;
        font-size: 0.75rem;
        opacity: 0.7;
        text-align: center;
      }

      a {
        color: #9ad0ff;
      }
    </style>
  </head>

  <body>
    <div class="page">
      <header>
        <h1>IvritCode</h1>
        <p class="subtitle">
          Hebrew letters as opcodes. Niqqud &amp; trope as modifiers. A sacred
          machine language.
        </p>
      </header>

      <main>
        <section class="card">
          <h2>VM Trace</h2>
          <p style="margin-top: 0; margin-bottom: 0.75rem;">
            Below is the execution trace of a small IvritCode demo program
            (א → ב → ג → ד → סבב). Each line is one step in the virtual
            machine, showing the program counter, current letter, registers, and
            hidden state.
          </p>
          <div id="app">
            <!-- main.js will render the trace into this container -->
          </div>
        </section>

        <section class="card">
          <h2>How to Run Locally</h2>
          <pre>
npm install
npm run build
npm start</pre
          >
          <p style="margin-top: 0.75rem;">
            The demo lives in <code>src/index.ts</code> and uses
            <code>src/vm.ts</code>, <code>src/round.ts</code>, and
            <code>src/field.ts</code> to define the IvritCode VM, round
            function, and finite-field arithmetic.
          </p>
        </section>
      </main>

      <div class="footer">
        IvritCode · A Sacred Machine Language · ©
        <span id="year"></span>
      </div>
    </div>

    <script>
      // Set footer year without needing extra TS wiring
      (function () {
        var el = document.getElementById("year");
        if (el) el.textContent = String(new Date().getFullYear());
      })();
    </script>

    <!-- Bundled JS output (from TypeScript build) -->
    <script src="./main.js"></script>
  </body>
</html>
